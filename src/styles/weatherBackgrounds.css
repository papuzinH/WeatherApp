/* Fondos dinámicos según el clima - Implementación de diseño atractivo y moderno */

/* === FONDO SOLEADO - Tonalidades cálidas pero legibles === */
.weather-sunny {
  background: linear-gradient(
    135deg, 
    #ff7b54 0%, 
    #ff6b35 25%, 
    #f7931e 50%, 
    #ffb347 75%, 
    #ffa726 100%
  );
  background-size: 300% 300%;
  animation: sunnyAnimation 20s ease infinite;
  /* Asegurar legibilidad con overlay sutil */
  position: relative;
}

.weather-sunny::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.15);
  pointer-events: none;
}

@keyframes sunnyAnimation {
  0% { 
    background-position: 0% 50%; 
    filter: brightness(0.85) saturate(1.1);
  }
  25% { 
    background-position: 100% 50%; 
    filter: brightness(0.8) saturate(1.2);
  }
  50% { 
    background-position: 50% 100%; 
    filter: brightness(0.9) saturate(1.1);
  }
  75% { 
    background-position: 0% 100%; 
    filter: brightness(0.8) saturate(1.2);
  }
  100% { 
    background-position: 0% 50%; 
    filter: brightness(0.85) saturate(1.1);
  }
}

/* === FONDO NUBLADO - Tonalidades grises y frías con buena legibilidad === */
.weather-cloudy {
  background: linear-gradient(
    135deg,
    #5c6bc0 0%,
    #7986cb 25%,
    #9575cd 50%,
    #90a4ae 75%,
    #78909c 100%
  );
  background-size: 250% 250%;
  animation: cloudyAnimation 25s ease infinite;
  position: relative;
}

/* Overlay sutil para mejorar legibilidad */
.weather-cloudy::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.1);
  pointer-events: none;
}

@keyframes cloudyAnimation {
  0% { 
    background-position: 0% 50%; 
    filter: brightness(0.8) saturate(0.9) contrast(1.1);
  }
  33% { 
    background-position: 100% 75%; 
    filter: brightness(0.75) saturate(0.85) contrast(1.15);
  }
  66% { 
    background-position: 50% 25%; 
    filter: brightness(0.82) saturate(0.88) contrast(1.12);
  }
  100% { 
    background-position: 0% 50%; 
    filter: brightness(0.8) saturate(0.9) contrast(1.1);
  }
}

/* === FONDO LLUVIOSO - Tonalidades azules y grises con lluvia diagonal === */
.weather-rainy {
  background: linear-gradient(
    135deg,
    #2c3e50 0%,
    #34495e 25%,
    #3498db 50%,
    #5dade2 75%,
    #7fb3d3 100%
  );
  background-size: 400% 400%;
  animation: rainyAnimation 18s ease infinite;
  position: relative;
}

/* Overlay para mejorar legibilidad */
.weather-rainy::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.2);
  pointer-events: none;
  z-index: 1;
}

/* Efecto de lluvia sutil con gotas muy cortas y finas */
.weather-rainy::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-image: 
    /* Gotas principales - muy muy cortas */
    repeating-linear-gradient(
      110deg,
      transparent 0px,
      transparent 40px,
      rgba(255, 255, 255, 0.25) 40px,
      rgba(255, 255, 255, 0.25) 42px,
      transparent 42px,
      transparent 90px
    ),
    /* Gotas secundarias - diminutas */
    repeating-linear-gradient(
      108deg,
      transparent 0px,
      transparent 60px,
      rgba(255, 255, 255, 0.15) 60px,
      rgba(255, 255, 255, 0.15) 61px,
      transparent 61px,
      transparent 120px
    );
  animation: gentleRain 1.5s linear infinite;
  pointer-events: none;
  z-index: 2;
}

@keyframes rainyAnimation {
  0% { 
    background-position: 0% 50%; 
    filter: brightness(0.75) saturate(1.1) contrast(1.1);
  }
  50% { 
    background-position: 100% 50%; 
    filter: brightness(0.7) saturate(1.2) contrast(1.2);
  }
  100% { 
    background-position: 0% 50%; 
    filter: brightness(0.75) saturate(1.1) contrast(1.1);
  }
}

/* Animación suave y sutil para la lluvia */
@keyframes gentleRain {
  0% { 
    background-position: -30px -150px, -20px -100px;
    opacity: 0.8;
  }
  100% { 
    background-position: 30px calc(100vh + 150px), 20px calc(100vh + 100px);
    opacity: 0.8;
  }
}

/* === FONDO NEVADO - Tonalidades frías pero no demasiado claras === */
.weather-snowy {
  background: linear-gradient(
    135deg,
    #b3cde3 0%,
    #9bb5d1 25%,
    #829dbe 50%,
    #6a85ab 75%,
    #5c7a99 100%
  );
  background-size: 200% 200%;
  animation: snowyAnimation 30s ease infinite;
  position: relative;
}

/* Overlay para mejorar legibilidad */
.weather-snowy::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.15);
  pointer-events: none;
  z-index: 1;
}

/* Efecto de nieve mejorado */
.weather-snowy::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-image: 
    radial-gradient(1px 1px at 20px 30px, rgba(255, 255, 255, 0.6), transparent),
    radial-gradient(1px 1px at 40px 70px, rgba(255, 255, 255, 0.4), transparent),
    radial-gradient(1px 1px at 90px 40px, rgba(255, 255, 255, 0.7), transparent),
    radial-gradient(1px 1px at 130px 80px, rgba(255, 255, 255, 0.5), transparent);
  background-size: 150px 150px;
  animation: snowfall 8s linear infinite;
  pointer-events: none;
  z-index: 2;
}

@keyframes snowyAnimation {
  0% { 
    background-position: 0% 50%; 
    filter: brightness(0.9) saturate(0.8) contrast(1.1);
  }
  50% { 
    background-position: 100% 50%; 
    filter: brightness(0.85) saturate(0.85) contrast(1.15);
  }
  100% { 
    background-position: 0% 50%; 
    filter: brightness(0.9) saturate(0.8) contrast(1.1);
  }
}

@keyframes snowfall {
  0% { transform: translateY(-150px) translateX(0px); }
  25% { transform: translateY(25vh) translateX(10px); }
  50% { transform: translateY(50vh) translateX(-5px); }
  75% { transform: translateY(75vh) translateX(8px); }
  100% { transform: translateY(calc(100vh + 150px)) translateX(0px); }
}

/* === FONDO TORMENTA - Muy oscuro pero con efectos más sutiles === */
.weather-thunderstorm {
  background: linear-gradient(
    135deg,
    #1a1a2e 0%,
    #16213e 25%,
    #0f3460 50%,
    #1e3a5f 75%,
    #2c4f70 100%
  );
  background-size: 300% 300%;
  animation: stormAnimation 15s ease infinite;
  position: relative;
}

/* Lightning effect más sutil */
.weather-thunderstorm::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: radial-gradient(
    ellipse at 30% 20%,
    rgba(255, 255, 255, 0.05) 0%,
    transparent 50%
  );
  animation: lightning 4s ease infinite;
  pointer-events: none;
}

@keyframes stormAnimation {
  0% { 
    background-position: 0% 50%; 
    filter: brightness(0.6) saturate(1.2) contrast(1.3);
  }
  25% { 
    background-position: 100% 25%; 
    filter: brightness(0.55) saturate(1.3) contrast(1.4);
  }
  50% { 
    background-position: 50% 100%; 
    filter: brightness(0.65) saturate(1.25) contrast(1.35);
  }
  75% { 
    background-position: 0% 75%; 
    filter: brightness(0.55) saturate(1.3) contrast(1.4);
  }
  100% { 
    background-position: 0% 50%; 
    filter: brightness(0.6) saturate(1.2) contrast(1.3);
  }
}

@keyframes lightning {
  0%, 85%, 100% { 
    opacity: 0; 
  }
  3%, 6% { 
    opacity: 1; 
    filter: brightness(1.5);
  }
}

/* === FONDO NIEBLA - Tonalidades más contrastadas === */
.weather-foggy {
  background: linear-gradient(
    135deg,
    #90a4ae 0%,
    #78909c 25%,
    #607d8b 50%,
    #546e7a 75%,
    #455a64 100%
  );
  background-size: 200% 200%;
  animation: foggyAnimation 35s ease infinite;
  position: relative;
}

/* Overlay para legibilidad */
.weather-foggy::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.1);
  pointer-events: none;
  z-index: 1;
}

/* Efecto de niebla más sutil */
.weather-foggy::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: linear-gradient(
    45deg,
    rgba(255, 255, 255, 0.05) 0%,
    rgba(255, 255, 255, 0.15) 50%,
    rgba(255, 255, 255, 0.05) 100%
  );
  background-size: 300% 300%;
  animation: fogMovement 20s ease infinite;
  pointer-events: none;
  z-index: 2;
}

@keyframes foggyAnimation {
  0% { 
    background-position: 0% 50%; 
    filter: brightness(0.8) saturate(0.7) blur(0.3px);
  }
  50% { 
    background-position: 100% 50%; 
    filter: brightness(0.75) saturate(0.6) blur(0.5px);
  }
  100% { 
    background-position: 0% 50%; 
    filter: brightness(0.8) saturate(0.7) blur(0.3px);
  }
}

@keyframes fogMovement {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

/* === FONDO POR DEFECTO - Gradiente equilibrado === */
.weather-default {
  background: linear-gradient(
    135deg, 
    #667eea 0%, 
    #764ba2 50%, 
    #f093fb 100%
  );
  background-size: 200% 200%;
  animation: defaultAnimation 20s ease infinite;
  position: relative;
}

/* Overlay para consistencia */
.weather-default::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.1);
  pointer-events: none;
}

@keyframes defaultAnimation {
  0% { 
    background-position: 0% 50%; 
    filter: brightness(0.9) saturate(1);
  }
  50% { 
    background-position: 100% 50%; 
    filter: brightness(0.85) saturate(1.1);
  }
  100% { 
    background-position: 0% 50%; 
    filter: brightness(0.9) saturate(1);
  }
}

/* === MEJORAS GENERALES DE LEGIBILIDAD === */

/* Asegurar que todos los elementos de texto sean legibles */
[class*="weather-"] .text-white,
[class*="weather-"] h1,
[class*="weather-"] h2,
[class*="weather-"] h3,
[class*="weather-"] p,
[class*="weather-"] span {
  text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.5);
}

/* Mejorar la legibilidad de las tarjetas de vidrio */
[class*="weather-"] .glass,
[class*="weather-"] .glass-card,
[class*="weather-"] .glass-strong {
  background: rgba(255, 255, 255, 0.12);
  backdrop-filter: blur(15px);
  border: 1px solid rgba(255, 255, 255, 0.25);
  box-shadow: 0 12px 40px 0 rgba(0, 0, 0, 0.2);
}

/* Clase para desactivar animaciones cuando sea necesario */
.no-animations [class*="weather-"],
.no-animations [class*="weather-"]::before,
.no-animations [class*="weather-"]::after {
  animation: none !important;
  transform: none !important;
  filter: none !important;
}

/* === EFECTOS ADICIONALES PARA MEJORAR LA EXPERIENCIA === */

/* Control de animaciones globales */
body.no-animations *,
body.no-animations *::before,
body.no-animations *::after {
  animation-duration: 0.01ms !important;
  animation-iteration-count: 1 !important;
  transition-duration: 0.01ms !important;
  scroll-behavior: auto !important;
}

/* Mejoras de accesibilidad - Respetar preferencias del usuario */
@media (prefers-reduced-motion: reduce) {
  body {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
  
  body *,
  body *::before,
  body *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/* Transición suave entre fondos */
[class*="weather-"] {
  transition: all 1.5s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

/* Ajustes responsivos */
@media (max-width: 768px) {
  [class*="weather-"] {
    background-size: 150% 150%;
  }
  
  [class*="weather-"]::before {
    background-size: 200% 200%;
  }
}

/* Optimización para dispositivos con menor rendimiento */
@media (prefers-reduced-motion: reduce) {
  [class*="weather-"] {
    animation: none;
    background-size: 100% 100%;
  }
  
  [class*="weather-"]::before {
    animation: none;
  }
}
